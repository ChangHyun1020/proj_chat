<div id="frame">
	<div id="sidepanel">
		<div id="profile">
			<div class="wrap">
				<img id="profile-img" src="http://emilcarlsson.se/assets/mikeross.png" class="online" alt="" />
				<p>Mike Ross</p>
				<i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
				<div id="status-options">
					<ul>
						<li id="status-online" class="active"><span class="status-circle"></span> <p>Online</p></li>
						<li id="status-away"><span class="status-circle"></span> <p>Away</p></li>
						<li id="status-busy"><span class="status-circle"></span> <p>Busy</p></li>
						<li id="status-offline"><span class="status-circle"></span> <p>Offline</p></li>
					</ul>
				</div>
				<div id="expanded">
					<label for="twitter"><i class="fa fa-facebook fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="mikeross" />
					<label for="twitter"><i class="fa fa-twitter fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="ross81" />
					<label for="twitter"><i class="fa fa-instagram fa-fw" aria-hidden="true"></i></label>
					<input name="twitter" type="text" value="mike.ross" />
				</div>
			</div>
		</div>
		<div id="search">
			<label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
			<input type="text" placeholder="Search contacts..." />
		</div>
		<div id="contacts">
			<ul>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status online"></span>
						<img src="http://emilcarlsson.se/assets/louislitt.png" alt="" />
						<div class="meta">
							<p class="name">Louis Litt</p>
							<p class="preview">You just got LITT up, Mike.</p>
						</div>
					</div>
				</li>
				<li class="contact active">
					<div class="wrap">
						<span class="contact-status busy"></span>
						<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
						<div class="meta">
							<p class="name">Harvey Specter</p>
							<p class="preview">Wrong. You take the gun, or you pull out a bigger one. Or, you call their bluff. Or, you do any one of a hundred and forty six other things.</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status away"></span>
						<img src="http://emilcarlsson.se/assets/rachelzane.png" alt="" />
						<div class="meta">
							<p class="name">Rachel Zane</p>
							<p class="preview">I was thinking that we could have chicken tonight, sounds good?</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status online"></span>
						<img src="http://emilcarlsson.se/assets/donnapaulsen.png" alt="" />
						<div class="meta">
							<p class="name">Donna Paulsen</p>
							<p class="preview">Mike, I know everything! I'm Donna..</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status busy"></span>
						<img src="http://emilcarlsson.se/assets/jessicapearson.png" alt="" />
						<div class="meta">
							<p class="name">Jessica Pearson</p>
							<p class="preview">Have you finished the draft on the Hinsenburg deal?</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status"></span>
						<img src="http://emilcarlsson.se/assets/haroldgunderson.png" alt="" />
						<div class="meta">
							<p class="name">Harold Gunderson</p>
							<p class="preview">Thanks Mike! :)</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status"></span>
						<img src="http://emilcarlsson.se/assets/danielhardman.png" alt="" />
						<div class="meta">
							<p class="name">Daniel Hardman</p>
							<p class="preview">We'll meet again, Mike. Tell Jessica I said 'Hi'.</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status busy"></span>
						<img src="http://emilcarlsson.se/assets/katrinabennett.png" alt="" />
						<div class="meta">
							<p class="name">Katrina Bennett</p>
							<p class="preview">I've sent you the files for the Garrett trial.</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status"></span>
						<img src="http://emilcarlsson.se/assets/charlesforstman.png" alt="" />
						<div class="meta">
							<p class="name">Charles Forstman</p>
							<p class="preview">Mike, this isn't over.</p>
						</div>
					</div>
				</li>
				<li class="contact">
					<div class="wrap">
						<span class="contact-status"></span>
						<img src="http://emilcarlsson.se/assets/jonathansidwell.png" alt="" />
						<div class="meta">
							<p class="name">Jonathan Sidwell</p>
							<p class="preview"><span>You:</span> That's bullshit. This deal is solid.</p>
						</div>
					</div>
				</li>
			</ul>
		</div>
		<div id="bottom-bar">
			<button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span>Add contact</span></button>
			<button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span>Settings</span></button>
		</div>
	</div>
	<div class="content">
		<div class="contact-profile">
			<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
			<p>Harvey Specter</p>
			<div class="social-media">
				<i class="fa fa-facebook" aria-hidden="true"></i>
				<i class="fa fa-twitter" aria-hidden="true"></i>
				 <i class="fa fa-instagram" aria-hidden="true"></i>
			</div>
		</div>
		<div class="messages">
			<ul>
				<li class="sent">
					<img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
					<p>How the hell am I supposed to get a jury to believe you when I am not even sure that I do?!</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>When you're backed against the wall, break the god damn thing down.</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>Excuses don't win championships.</p>
				</li>
				<li class="sent">
					<img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
					<p>Oh yeah, did Michael Jordan tell you that?</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>No, I told him that.</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>What are your choices when someone puts a gun to your head?</p>
				</li>
				<li class="sent">
					<img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
					<p>What are you talking about? You do what they say or they shoot you.</p>
				</li>
				<li class="replies">
					<img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
					<p>Wrong. You take the gun, or you pull out a bigger one. Or, you call their bluff. Or, you do any one of a hundred and forty six other things.</p>
				</li>
			</ul>
		</div>
		<div class="message-input">
			<div class="wrap">
			<input type="text" placeholder="Write your message..." />
			<i class="fa fa-paperclip attachment" aria-hidden="true"></i>
			<button class="submit"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
			</div>
		</div>
	</div>
</div>
<script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script><script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
<script >
  $(".messages").animate({
    scrollTop: $(document).height() }, "fast");

  $("#profile-img").click(function() {
  	$("#status-options").toggleClass("active");
  });

  $(".expand-button").click(function() {
    $("#profile").toggleClass("expanded");
    $("#contacts").toggleClass("expanded");
  });

  $("#status-options ul li").click(function() {
  	$("#profile-img").removeClass();
  	$("#status-online").removeClass("active");
  	$("#status-away").removeClass("active");
  	$("#status-busy").removeClass("active");
  	$("#status-offline").removeClass("active");
  	$(this).addClass("active");

  	if($("#status-online").hasClass("active")) {
  		$("#profile-img").addClass("online");
  	} else if ($("#status-away").hasClass("active")) {
  		$("#profile-img").addClass("away");
  	} else if ($("#status-busy").hasClass("active")) {
  		$("#profile-img").addClass("busy");
  	} else if ($("#status-offline").hasClass("active")) {
  		$("#profile-img").addClass("offline");
  	} else {
  		$("#profile-img").removeClass();
  	};

  	$("#status-options").removeClass("active");
  });

  function newMessage() {
  	message = $(".message-input input").val();
  	if($.trim(message) == '') {
  		return false;
  	}
  	$('<li class="sent"><img src="http://emilcarlsson.se/assets/mikeross.png" alt="" /><p>' + message + '</p></li>').appendTo($('.messages ul'));
  	$('.message-input input').val(null);
  	$('.contact.active .preview').html('<span>You: </span>' + message);
  	$(".messages").animate({ scrollTop: $(document).height() }, "fast");
  };

  $('.submit').click(function() {
    newMessage();
  });

  $(window).on('keydown', function(e) {
    if (e.which == 13) {
      newMessage();
      return false;
    }
  });
</script>


@extends('layouts.app')

@section('css')
  @pareant
@stop

@section('js')
<script >
  function newMessage() {
    var message = $(".message-input input").val();

    if(!(message) == '') {
      return false;
    }

    $('.chatlist').append(
      '<li class="replies">' +
      '<p>' + message + '</p>' +
      '</li>'
    );

    $('.message-input input').val('');
  };
</script>
@stop

@section('content')
  <div class="container">
    <div id="frame">
      <div id="sidepanel">
        <div id="profile">
          <div class="wrap">
            <img id="profile-img" src="/images/support.jpg" class="online" alt="" />
            <p> 사용자 이름 </p>
            <i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
            <div id="status-options">
              <ul>
                <li id="status-online" class="active"><span class="status-circle"></span> <p>Online</p></li>
                <li id="status-away"><span class="status-circle"></span> <p>Away</p></li>
                <li id="status-busy"><span class="status-circle"></span> <p>Busy</p></li>
                <li id="status-offline"><span class="status-circle"></span> <p>Offline</p></li>
              </ul>
            </div>
            <div id="expanded">
              <label for="twitter"><i class="fa fa-facebook fa-fw" aria-hidden="true"></i></label>
              <input name="twitter" type="text" value="mikeross" />
              <label for="twitter"><i class="fa fa-twitter fa-fw" aria-hidden="true"></i></label>
              <input name="twitter" type="text" value="ross81" />
              <label for="twitter"><i class="fa fa-instagram fa-fw" aria-hidden="true"></i></label>
              <input name="twitter" type="text" value="mike.ross" />
            </div>
          </div>
        </div>
        <div id="search">
          <label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
          <input type="text" placeholder="검색" />
        </div>
        <div id="contacts">
          <ul>
            <li class="contact">
              <div class="wrap">
                <span class="contact-status online"></span>
                <img src="/images/support.jpg" alt="" />
                <div class="meta">
                  <p class="name"> 친구 1 </p>
                  <p class="preview"> 메시지 1 </p>
                </div>
              </div>
            </li>

            <li class="contact active">
              <div class="wrap">
                <span class="contact-status busy"></span>
                <img src="/images/support.jpg" alt="" />
                <div class="meta">
                  <p class="name">친구 2</p>
                  <p class="preview"> 메시지 2 </p>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div id="bottom-bar">
          <button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span> 채팅 추가 </span></button>
          <button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span> 설정 </span></button>
        </div>
      </div>
      <div class="content">
        <div class="contact-profile">
          <img src="/images/support.jpg" alt="" />
          <p>친구 이름 </p>
          <div class="social-media">
            <i class="fa fa-facebook" aria-hidden="true"></i>
            <i class="fa fa-twitter" aria-hidden="true"></i>
             <i class="fa fa-instagram" aria-hidden="true"></i>
          </div>
        </div>
        <div class="messages">
          <ul id="chatlist">
            <li class="sent">
              <p> 친구가 보낸 글 </p>
            </li>

            <li class="replies">
              <p> 사용자가 쓴 글 </p>
            </li>
          </ul>
        </div>
        <div class="message-input">
          <div class="wrap">
            <input type="text" placeholder="메시지 입력" />
            <i class="fa fa-paperclip attachment" aria-hidden="true"></i>
            <button class="submit" onclick="newMessage()"><i class="icon fa-send" aria-hidden="true">전송</i></button>
          </div>
        </div>
      </div>
    </div>
  </div>
@endsection













<html lang="en">
<head>
		<meta charset="UTF-8">
		<title>Title</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<script src="https://use.fontawesome.com/1c6f725ec5.js"></script>
</head>
<body>
		<div class="green-background"></div>
		<div class="wrap">
				<section class="left">
						<div class="profile">
								<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1089577/user.jpg">
								<div class="icons">
										<i class="fa fa-commenting fa-lg" aria-hidden="true"></i>
										<i class="fa fa-bars fa-lg" aria-hidden="true"></i>
								</div>
						</div>
						<div class="wrap-search">
								<div class="search">
										<i class="fa fa-search fa" aria-hidden="true"></i>
										<input type="text" class="input-search" placeholder="Suchen oder neuen Chat beginnen">
								</div>
						</div>
						<div class="contact-list"></div>
				</section>

				<section class="right">
						<div class="chat-head">
								<img alt="profilepicture">
								<div class="chat-name">
										<h1 class="font-name"></h1>
										<p class="font-online"></p>
								</div>
								<i class="fa fa-search fa-lg" aria-hidden="true"></i>
								<i class="fa fa-paperclip fa-lg" aria-hidden="true"></i>
								<i class="fa fa-bars fa-lg" aria-hidden="true" id="show-contact-information"></i>
								<i class="fa fa-times fa-lg" aria-hidden="true" id="close-contact-information"></i>
						</div>
						<div class="wrap-chat">
								<div class="chat"></div>
								<div class="information"></div>
						</div>
						<div class="wrap-message">
								<i class="fa fa-smile-o fa-lg" aria-hidden="true"></i>
								<div class="message">
										<input type="text" class="input-message" placeholder="Schreibe eine Nachricht">
								</div>
								<i class="fa fa-microphone fa-lg" aria-hidden="true"></i>
						</div>
				</section>
		</div>
</body>
</html>
<script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script><script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<script >//contacts
var WhatsApp = (function (app) {
    function Contact (name,img,online) {
        this.id = contactList.length;
        this.name = name;
        this.img = img;
        this.online = online;
        this.messages = new Array();
        this.newmsg = 0;
        this.groups = new Array();

        contactList.push(this);
    }

    Contact.prototype.addMessage = function (msg) {
        this.messages.push(msg);
    }

    Contact.prototype.addGroup = function (group) {
        this.groups.push(group);
    }

    appContacts =  Contact;
    return appContacts;
})(WhatsApp || {});

//groups
var WhatsApp = (function (app) {
    function Group (name,img) {
        this.id = contactList.length;
        this.name = name;
        this.img = img;
        this.members = new Array();
        this.messages = new Array();
        this.newmsg = 0;

        contactList.push(this);
    }

    Group.prototype.addMember = function (contact) {
        this.members.push(contact);
    }

    Group.prototype.addMessage = function (msg) {
        this.messages.push(msg);
    }

    appGroups = Group;
    return appGroups;

})(WhatsApp || {});

//messages
var WhatsApp = (function (app) {
    function Message (text,name,time,type,group) {
        this.text = text;
        this.name = name,
        this.time = time;
        this.type = type;
        this.group = group;
    }

    appMessages =  Message;
    return appMessages;
})(WhatsApp || {});

//subject
/**
 * Created by Tanja on 02.01.2017.
 */
var WhatsApp = (function(app) {

  function Subject() {
    this.observers = [];
  };

  Subject.prototype.subscribe = function(item) {
    this.observers.push(item);
  };

  Subject.prototype.unsubscribeAll = function() {
    this.observers.length = 0;
  };

  Subject.prototype.notifyObservers = function() {
    this.observers.forEach(elem => {elem.notify();})
  };

  app.Subject = Subject;
  return app;

})(WhatsApp || {});

//model
/**
* Created by Tanja on 02.01.2017.
*/
var currentChat;
var contactList = new Array();

var WhatsApp = (function ToDoModel (app) {
		var subject = new app.Subject();

		var Model = {
				start : function() {
						$.getJSON("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1089577/contacts2.json", function (data) {
								for (var i=0; i<data.elements.length; i++) {if (window.CP.shouldStopExecution(4)){break;}
										var e = data.elements[i];

										if (e.online == undefined) {
												var group = new appGroups(e.name,e.img);
												for (var j = 0; j < e.members.length; j++) {if (window.CP.shouldStopExecution(1)){break;}
														group.addMember(contactList[e.members[j].contact]);
														contactList[e.members[j].contact].addGroup(group);
												}
window.CP.exitedLoop(1);

												for (var j = 0; j < e.messages.length; j++) {if (window.CP.shouldStopExecution(2)){break;}
														var m = e.messages[j];
														var message = new appMessages(m.text, m.name, m.time, m.type, true);
														group.addMessage(message);
												}
window.CP.exitedLoop(2);

										}
										else {
												var contact = new appContacts(e.name, e.img, e.online);
												for (var j = 0; j < e.messages.length; j++) {if (window.CP.shouldStopExecution(3)){break;}
														var m = e.messages[j];
														var message = new appMessages(m.text, m.name, m.time, m.type, false);
														contact.addMessage(message);
												}
window.CP.exitedLoop(3);

										}
								}
window.CP.exitedLoop(4);

								subject.notifyObservers();
						});
				},
				writeMessage : function() {
						var msg = new appMessages($(".input-message").val(),"",new Date().getHours() + ":" + new Date().getMinutes(),true);
						WhatsApp.View.printMessage(msg);
						currentChat.addMessage(msg);
						$(".input-message").val("");
						$("#" + currentChat.id).addClass("active-contact");
						subject.notifyObservers();
				},
				getMessage : function (text,id,name) {
						if (name == undefined) {
								var msg = new appMessages(text, contactList[id].name, new Date().getHours() + ":" + new Date().getMinutes(), false, false);
						}
						else {
								var msg = new appMessages(text, name, new Date().getHours() + ":" + new Date().getMinutes(), false, true);
						}
						contactList[id].addMessage(msg);
						contactList[id].online = new Date().getHours() + ":" + new Date().getMinutes();

						if(contactList[id] == currentChat) {
								WhatsApp.View.printMessage(msg);
								WhatsApp.View.printContact(contactList[id]);
						}
						else {
								contactList[id].newmsg ++;
								WhatsApp.View.printContact(contactList[id]);
						}
				},
				register : function(...args) {
				subject.unsubscribeAll();
				args.forEach(elem => {
						subject.subscribe(elem);
				})
				}
		};
		app.Model = Model;
		return app;

})(WhatsApp || {});

//view
/**
 * Created by Tanja on 02.01.2017.
 */
var first = true;

var WhatsApp = (function ToDoView(app) {
		var view = {
		printContact : function (c) {
			$("#" + c.id).remove();
			var lastmsg = c.messages[c.messages.length - 1];

			if (c.newmsg == 0) {
				var html = $("<div class='contact' id='" + c.id + "'><img src='" + c.img + "' alt='profilpicture'><div class='contact-preview'><div class='contact-text'><h1 class='font-name'>" + c.name + "</h1><p class='font-preview'>" + lastmsg.text + "</p></div></div><div class='contact-time'><p>" + lastmsg.time + "</p></div></div>");
			}
			else {
				var html = $("<div class='contact new-message-contact' id='" + c.id + "'><img src='" + c.img + "' alt='profilpicture'><div class='contact-preview'><div class='contact-text'><h1 class='font-name'>" + c.name + "</h1><p class='font-preview'>" + lastmsg.text + "</p></div></div><div class='contact-time'><p>" + lastmsg.time + "</p><div class='new-message' id='nm" + c.id + "'><p>" + c.newmsg + "</p></div></div></div>");
			}

			var that = c;
			$(".contact-list").prepend(html);
			WhatsApp.Ctrl.addClick(html, that);
		} ,
		printChat : function (cg) {
			WhatsApp.View.closeContactInformation();
			$(".chat-head img").attr("src",cg.img);
			$(".chat-name h1").text(cg.name);
		if(cg.members == undefined) {
			$(".chat-name p").text("zuletzt online um " + cg.online);
			// Nachrichten konfigurieren
			$(".chat-bubble").remove();
			for (var i=0; i<cg.messages.length; i++) {if (window.CP.shouldStopExecution(5)){break;}
				WhatsApp.View.printMessage(cg.messages[i]);
			}
window.CP.exitedLoop(5);

			currentChat = cg;
		}
		else {
			var listMembers = "";
			for (var i=0; i<cg.members.length; i++) {if (window.CP.shouldStopExecution(6)){break;}
				listMembers += cg.members[i].name;
				if (i < cg.members.length - 1) {
					listMembers  += ", ";
				}
			}
window.CP.exitedLoop(6);

			$(".chat-name p").text(listMembers);
			// Nachrichten konfigurieren
			$(".chat-bubble").remove();
			for (var i=0; i<cg.messages.length; i++) {if (window.CP.shouldStopExecution(7)){break;}
				WhatsApp.View.printMessage(cg.messages[i]);
			}
window.CP.exitedLoop(7);

			currentChat = cg;
		}
		},
		printMessage : function (gc) {
		if (gc.group) {
			if (gc.type) {
				$(".chat").append("<div class='chat-bubble me'><div class='my-mouth'></div><div class='content'>" + gc.text + "</div><div class='time'>" + gc.time + "</div></div>");
			}
			else {
				$(".chat").append("<div class='chat-bubble you'><div class='your-mouth'></div><h4>" + gc.name + "</h4><div class='content'>" + gc.text + "</div><div class='time'>" + gc.time + "</div></div>");
			}
		}
		else {
			if (gc.type) {
				$(".chat").append("<div class='chat-bubble me'><div class='my-mouth'></div><div class='content'>" + gc.text + "</div><div class='time'>" + gc.time + "</div></div>");
			}
			else {
				$(".chat").append("<div class='chat-bubble you'><div class='your-mouth'></div><div class='content'>" + gc.text + "</div><div class='time'>" + gc.time + "</div></div>");
			}
		}
	 },
		showContactInformation : function () {
			$(".chat-head i").hide();
			$(".information").css("display", "flex");
			$("#close-contact-information").show();
			if (currentChat.members == undefined) {
				$(".information").append("<img src='" + currentChat.img + "'><div><h1>Name:</h1><p>" + currentChat.name + "</p></div><div id='listGroups'><h1>Gemeinsame Gruppen:</h1></div>");
				for (var i = 0; i < currentChat.groups.length; i++) {if (window.CP.shouldStopExecution(9)){break;}
					html = $("<div class='listGroups'><img src='" + currentChat.groups[i].img + "'><p>" + currentChat.groups[i].name + "</p></div>");
					$("#listGroups").append(html);
					$(html).click(function (e) {
						for (var i = 0; i < contactList.length; i++) {if (window.CP.shouldStopExecution(8)){break;}
							if (($(currentChat).find("p").text()) == contactList[i].name) {
								$(".active-contact").removeClass("active-contact");
								$("#" + contactList[i].id).addClass("active-contact");
								WhatsApp.Groups.printChat(contactList[i]);
							}
						}
window.CP.exitedLoop(8);

					});
				}
window.CP.exitedLoop(9);

			}
			else {
				$(".information").append("<img src='" + currentChat.img + "'><div><h1>Name:</h1><p>" + currentChat.name + "</p></div><div id='listGroups'><h1>Mitglieder:</h1></div>");
				for (var i = 0; i < currentChat.members.length; i++) {if (window.CP.shouldStopExecution(11)){break;}
					html = $("<div class='listGroups'><img src='" + currentChat.members[i].img + "'><p>" + currentChat.members[i].name + "</p></div>");
					$("#listGroups").append(html);
					$(html).click(function (e) {
						for (var i = 0; i < contactList.length; i++) {if (window.CP.shouldStopExecution(10)){break;}
							if (($(currentChat).find("p").text()) == contactList[i].name) {
								$(".active-contact").removeClass("active-contact");
								$("#" + contactList[i].id).addClass("active-contact");
								WhatsApp.Contacts.printChat(contactList[i]);
							}
						}
window.CP.exitedLoop(10);

					});
				}
window.CP.exitedLoop(11);

			}
		},
		closeContactInformation : function () {
			$(".chat-head i").show();
			$("#close-contact-information").hide();
			$(".information >").remove();
			$(".information").hide();
		},

		//Observer-Methode
		notify: function () {
			if (first) {
				first = false;
				for (var i = 0; i < contactList.length; i++) {if (window.CP.shouldStopExecution(12)){break;}
					WhatsApp.View.printContact(contactList[i]);
					currentChat = contactList[i];
				}
window.CP.exitedLoop(12);

				first = false;
			}
			else {
				WhatsApp.View.printContact(currentChat);
			}
		}
	}

	app.View = view;
	return app;

})(WhatsApp);

//controller
/**
 * Created by Tanja on 02.01.2017.
 */
var start = true;

var WhatsApp = (function ToDoCtrl(app) {

  $(document).ready(function () {
    app.Model.start();
  });

  var Ctrl = {
    addClick : function (html, that) {
      $(html).click(function(e) {
        $(".active-contact").removeClass("active-contact");
        $(this).addClass("active-contact");
        $(this).removeClass("new-message-contact");
        $("#nm" + that.id).remove();
        that.newmsg = 0;
        WhatsApp.View.printChat(that);
      });
   },

    //Observer-Methode
    notify : function() {
      if (start) {
        $(".input-message").keyup(function(ev) {
          if(ev.which == 13 || ev.keyCode == 13) {
            app.Model.writeMessage();
          }
        });

        $("#show-contact-information").on("click",function(){
          WhatsApp.View.showContactInformation();
        });

        $("#close-contact-information").on("click",function(){
          WhatsApp.View.closeContactInformation();
        });
        start = false;
      }
    }
  };
  app.Ctrl = Ctrl;
  return app;

})(WhatsApp);

WhatsApp.Model.register(WhatsApp.View, WhatsApp.Ctrl);
//# sourceURL=pen.js
</script>
</body></html>







































@extends('layouts.app')

<!-- Styles -->
@section('css')
<style>
    html, body {
        background-color: #fff;
        color: #636b6f;
        font-family: 'Raleway', sans-serif;
        font-weight: 100;
        height: 100vh;
        margin: 0;
    }
</style>
@stop

@section('js')
    @param

@stop

@section('content')
  <div class="container">
    <h1 class="page-header">
        채팅
    </h1>
    <div id="frame">
      <div id="sidepanel">
        <div id="profile">
          <div class="wrap">
            <img id="profile-img" src="/images/support.jpg" class="online" alt="" />
            <p> 사용자 이름 </p>
          </div>
        </div>
        <div id="search">
          <label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
          <input type="text" placeholder="검색" />
        </div>
        <div id="contacts">
          <ul>
            <li class="contact">
              <div class="wrap">
                <span class="contact-status online"></span>
                <img src="/images/support.jpg" alt="" />
                <div class="meta">
                  <p class="name"> 친구 1 </p>
                  <p class="preview"> 메시지 1 </p>
                </div>
              </div>
            </li>

            <li class="contact active">
              <div class="wrap">
                <span class="contact-status busy"></span>
                <img src="/images/support.jpg" alt="" />
                <div class="meta">
                  <p class="name">친구 2</p>
                  <p class="preview"> 메시지 2 </p>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div id="bottom-bar">
          <button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span> 채팅 추가 </span></button>
          {{-- <button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span> 설정 </span></button> --}}
        </div>
      </div>
      <div class="content">
        <div class="contact-profile">
          <img src="/images/support.jpg" alt="" />
          <p>친구  </p>
          <div class="social-media">
            <i class="fa fa-facebook" aria-hidden="true"></i>
            <i class="fa fa-twitter" aria-hidden="true"></i>
             <i class="fa fa-instagram" aria-hidden="true"></i>
          </div>
        </div>
        <div class="messages">
          <ul id="chatlist">
            <li class="sent">
              <p> 친구가 보낸 글 </p>
            </li>

            <li class="replies">
              <p> 사용자가 쓴 글 </p>
            </li>
            @foreach($chats as $chat)
                <li class="replies">
                    <p> {{ $chat->content }}
                        {{-- <small> by {{ $chat->user->id }} </small> --}}
                    </p>
                </li>
            @endforeach
          </ul>
        </div>
        <div class="message-input">
          <div class="wrap">
            <form method="post" action="{{ route('chats.store') }}">
              {!! csrf_field() !!}
              @include('partial.form')
              <div class="form-group">
                <button type="submit" class="btn gtn-primary"> 전송 </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
@endsection